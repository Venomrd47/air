<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Selection</title>
    <link rel="stylesheet" href="process.css">
</head>
<body>
    <div class="nav">
        <img src="airways.png" alt="link">
        <nav> 
            <ul class="bar">
                <li><a href="home.html">HOME</a></li>
                <li><a href="contact.html">CONTACT</a></li>
                <li><a href="">DEAL</a></li>
                <li><a href="value.html">BOOKING</a></li>
            </ul>
        </nav>
    </div>

    <div class="top">
        <h2>AVAILABLE FLIGHTS FOR SEARCHED ROUTE</h2>
    </div>

    <!-- Flight 1 -->
    <div class="container">
        <div class="list">
            <h3>Air India</h3>
            <p>IX2748</p>
        </div>
        <div class="flight-time">
            <p>5:30</p>
            <p id="departureCity"></p>
        </div>
        <div class="flight-duration">
            <p>01h55m</p>
            <p>non-stop</p>
        </div>
        <div class="details-section">
            <p id="arrivalTime">07:25</p>
            <p id="returnCity"></p>
        </div>
        <div class="price">
            <span id="flightPrice1">₹4000</span>
            <p>per adult</p>
            <p>Total Price: <span id="totalPrice1"></span></p>
        </div>
        <form action="passengerDetails.html" method="get">
            <button type="submit" onclick="redirectTopassengerDetails('flightPrice1')">Book now</button>
        </form>
    </div>

    <!-- Flight 2 -->
    <div class="container">
        <div class="list">
            <h3>Aska Air</h3>
            <p>IX5647</p>
        </div>
        <div class="flight-time">
            <p>8:00</p>
            <p id="departureCity2"></p>
        </div>
        <div class="flight-duration">
            <p>02h30m</p>
            <p>1-stop via</p>
        </div>
        <div class="details-section">
            <p id="arrivalTime2">08:30</p>
            <p id="returnCity2"></p>
        </div>
        <div class="price">
            <span id="flightPrice2">₹4567</span>
            <p>per adult</p>
            <p>Total Price: <span id="totalPrice2"></span></p>
        </div>
        <form action="passengerDetails.html" method="get">
            <button type="submit" onclick="redirectTopassengerDetails('flightPrice2')">Book now</button>
        </form>
    </div>

    <!-- Flight 3 -->
    <div class="container">
        <div class="list">
            <h3>Air Asia</h3>
            <p>IV4378</p>
        </div>
        <div class="flight-time">
            <p>10:00</p>
            <p id="departureCity3"></p>
        </div>
        <div class="flight-duration">
            <p>01h50m</p>
            <p>non-stop</p>
        </div>
        <div class="details-section">
            <p id="arrivalTime3">12:50</p>
            <p id="returnCity3"></p>
        </div>
        <div class="price">
            <span id="flightPrice3">₹4432</span>
            <p>per adult</p>
            <p>Total Price: <span id="totalPrice3"></span></p>
        </div>
        <form action="passengerDetails.html" method="get">
            <button type="submit" onclick="redirectTopassengerDetails('flightPrice3')">Book now</button>
        </form>
    </div>

    <!-- Flight 4 -->
    <div class="container">
        <div class="list">
            <h3>Air Way</h3>
            <p>II5623</p>
        </div>
        <div class="flight-time">
            <p>12:00</p>
            <p id="departureCity4"></p>
        </div>
        <div class="flight-duration">
            <p>03h15m</p>
            <p>2-stop via</p>
        </div>
        <div class="details-section">
            <p id="arrivalTime4">15:15</p>
            <p id="returnCity4"></p>
        </div>
        <div class="price">
            <span id="flightPrice4">₹4986</span>
            <p>per adult</p>
            <p>Total Price: <span id="totalPrice4"></span></p>
        </div>
        <form action="passengerDetails.html" method="get">
            <button type="submit" onclick="redirectTopassengerDetails('flightPrice4')">Book now</button>
        </form>
    </div>

    <!-- Flight 5 -->
    <div class="container">
        <div class="list">
            <h3>Air India</h3>
            <p>IX7748</p>
        </div>
        <div class="flight-time">
            <p>15:00</p>
            <p id="departureCity5"></p>
        </div>
        <div class="flight-duration">
            <p>02h00m</p>
            <p>non-stop</p>
        </div>
        <div class="details-section">
            <p id="arrivalTime5">17:00</p>
            <p id="returnCity5"></p>
        </div>
        <div class="price">
            <span id="flightPrice5">₹5000</span>
            <p>per adult</p>
            <p>Total Price: <span id="totalPrice5"></span></p>
        </div>
        <form action="passengerDetails.html" method="get">
            <button type="submit" onclick="redirectTopassengerDetails('flightPrice5')">Book now</button>
        </form>
    </div>

    <script>
        // Function to calculate the total price for each flight
        function calculateTotalPrice() {
            const passengerCount = parseInt(localStorage.getItem('passengerCount')) || 1;

            // Get flight prices and calculate total for each flight
            const price1 = parseInt(document.getElementById('flightPrice1').textContent.replace('₹', ''));
            const total1 = price1 * passengerCount;
            document.getElementById('totalPrice1').textContent = `₹${total1}`;

            const price2 = parseInt(document.getElementById('flightPrice2').textContent.replace('₹', ''));
            const total2 = price2 * passengerCount;
            document.getElementById('totalPrice2').textContent = `₹${total2}`;

            const price3 = parseInt(document.getElementById('flightPrice3').textContent.replace('₹', ''));
            const total3 = price3 * passengerCount;
            document.getElementById('totalPrice3').textContent = `₹${total3}`;

            const price4 = parseInt(document.getElementById('flightPrice4').textContent.replace('₹', ''));
            const total4 = price4 * passengerCount;
            document.getElementById('totalPrice4').textContent = `₹${total4}`;

            const price5 = parseInt(document.getElementById('flightPrice5').textContent.replace('₹', ''));
            const total5 = price5 * passengerCount;
            document.getElementById('totalPrice5').textContent = `₹${total5}`;
        }

        // Redirect function to store selected flight price
        function redirectTopassengerDetails(priceId) {
            const selectedPrice = document.getElementById(priceId).textContent;
            localStorage.setItem('selectedFlightPrice', selectedPrice);
            window.location.href = 'passengerDetails.html';
        }

        // Call the function to calculate total prices when the page loads
        window.onload = calculateTotalPrice;
    </script>
</body>
</html>
